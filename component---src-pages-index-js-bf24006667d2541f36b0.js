(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{129:function(e,t,n){"use strict";n.r(t);var r=n(159),a=n.n(r),i=(n(138),n(160)),s=n.n(i),o=(n(135),n(161)),l=n.n(o),u=n(6),c=n.n(u),d=n(0),h=n.n(d),p=n(132),m=n(4),f=n.n(m),C=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this)._handleChange=function(e){var n=t.props.onChange;n&&n(e.target.value)},t}return c()(t,e),t.prototype.render=function(){return h.a.createElement("div",{className:"form-group"},h.a.createElement("label",null,this.props.label),h.a.createElement("input",{"data-testid":this.props.testid,type:"text",onChange:this._handleChange,value:this.props.value,className:"form-control"}))},t}(d.Component);C.propTypes={onChange:f.a.func,label:f.a.string.isRequired,value:f.a.string.isRequired,testid:f.a.string};var _=function(e){return h.a.createElement(C,e)},g=function(e){var t=e.onChange,n=e.testid;return h.a.createElement(_,{label:"First Name",testid:n,onChange:t})};g.propTypes={onChange:f.a.func};var v=g,E=function(e){var t=e.onChange,n=e.testid;return h.a.createElement(_,{label:"Middle Name",testid:n,onChange:t})};E.propTypes={onChange:f.a.func,testid:f.a.string.isRequired};var y=E,b=function(e){var t=e.onChange,n=e.testid;return h.a.createElement(_,{label:"Last Name",testid:n,onChange:t})};b.propTypes={onChange:f.a.func};var D=b,I=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this)._handleClick=function(e){var n=t.props.onChange;n&&n(e)},t}c()(t,e);var n=t.prototype;return n._renderEyeColorOptions=function(){var e=this;return this.props.options.map(function(t,n){var r="eye-color-"+t.slug;return t.label===e.props.selected&&(r+=" selected"),h.a.createElement("div",{onClick:e._handleClick.bind(null,t.label),className:r,key:n},t.label)})},n.render=function(){return h.a.createElement("div",{className:"form-group"},h.a.createElement("label",null,"Eye Color"),this._renderEyeColorOptions())},t}(d.Component);I.propTypes={options:f.a.arrayOf(f.a.shape({label:f.a.string.isRequired,hex:f.a.string.isRequired})).isRequired,selected:f.a.string,onChange:f.a.func};var N=function(e){function t(t){var n;return(n=e.call(this,t)||this)._handleChange=function(e){},n.state={value:0,rawValue:0,unit:"in"},n}c()(t,e);var n=t.prototype;return n._renderUnitOptions=function(){return h.a.createElement("select",{onChange:this._handleUnitChange},this.props.unitOptions.map(function(e,t){return h.a.createElement("option",{key:t},e)}))},n.render=function(){return h.a.createElement("div",null,h.a.createElement("label",null,"Height"),h.a.createElement("input",{onChange:this._handleChange,type:"text"}),this._renderUnitOptions())},t}(d.Component);N.propTypes={value:f.a.number,unit:f.a.string,unitOptions:f.a.arrayOf(f.a.string).isRequired};var S=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this)._handleChange=function(e){var n=t.props.onChange;n&&n(e.target.value)},t}return c()(t,e),t.prototype.render=function(){return h.a.createElement("div",{className:"form-group"},h.a.createElement("label",null,this.props.label),h.a.createElement("input",{onChange:this._handleChange,type:"date",className:"form-control"}))},t}(d.Component);S.propTypes={onChange:f.a.func,label:f.a.string.isRequired};n(29);var x=n(162),A=n.n(x),w=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this)._handleGenerateClick=function(){var e=t.props.onGenerate;e&&e(A()())},t}return c()(t,e),t.prototype.render=function(){return h.a.createElement("div",null,h.a.createElement("a",{onClick:this._handleGenerateClick},"Generate Random"),h.a.createElement(C,Object.assign({maxlength:25},this.props)))},t}(d.Component);w.propTypes={onGenerate:f.a.func,value:f.a.string.isRequired};var O=n(139),k=function(){function e(e){var t=e.elementID,n=e.value;this._elementID=t,this._value=n}var t=e.prototype;return t.toString=function(){switch(this._elementID){case"DAC":this._dac();break;case"DCA":this._dca();break;default:throw"Unknown DataElement: "+this._elementID}},t._dac=function(){return"KYLE DECOT"},t._dca=function(){return Object(O.truncate)(this._value,{length:40,omission:""})},e}(),V=function(){function e(e){this.data=e}return e.prototype.toString=function(){return"KYLEDECOT"},e}();V.DataElement=k;var B=n(140);n.d(t,"default",function(){return R});var J=[{label:"Hazel",hex:"#776536",slug:"hazel"},{label:"Blue",hex:"#a1caf1",slug:"blue"},{label:"Brown",hex:"#603101",slug:"brown"}],P=["in","cm"],R=function(e){function t(t){var n;return(n=e.call(this,t)||this)._handleHeightValueChange=function(e){console.log(e)},n._handleHeightUnitChange=function(e){console.log(e)},n._handleEyeColorChange=function(e){n.setState({eyeColor:e})},n._handleFirstNameChange=function(e){n.setState({firstName:e})},n._handleDateOfBirthChange=function(e){n.setState({dateOfBirth:e})},n._handleAddressStreet1Change=function(e){n.setState({addressStreet1:e})},n._handleDocumentExpirationDateChange=function(e){n.setState({documentExpirationDate:e})},n._handleMiddleNameChange=function(e){n.setState({middleName:e})},n._handleLastNameChange=function(e){n.setState({lastName:e})},n._handleDocumentDiscriminatorChange=function(e){n.setState({documentDiscriminator:e})},n._handleJurisdictionVehicleClassChange=function(e){n.setState({jurisdictionSpecificVehicleClass:e})},n._handleSubmit=function(e){e.preventDefault();var t=new AMMVA.Encoder({firstName:n.state.firstName});console.warn(t.toString()),n.setState({isBarcodeVisible:!0})},n._handleReverseGeolocateClick=function(e){e.preventDefault(),navigator.geolocation.getCurrentPosition(function(e){console.log(e),n.setState({currentPosition:e})})},n.state={isBarcodeVisible:!0,currentPosition:null,postalCode:"",city:"",address:"",jurisdicationSpecificVehicleClass:"",documentDiscriminator:""},n}c()(t,e);var n=t.prototype;return n.componentDidUpdate=function(e,t){this.state.currentPosition&&!t.currentPosition&&this._reverseGeocode()},n._reverseGeocode=function(){var e=s()(a.a.mark(function e(){var t,n,r,i,s,o;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.state.currentPosition.coords,n={}.GOOGLE_API_KEY,r="https://maps.googleapis.com/maps/api/geocode/json?latlng="+t.latitude+","+t.longitude+"&key="+n,e.next=5,fetch(r);case 5:return i=e.sent,e.next=8,i.json();case 8:s=e.sent,o=s.results[0],this.setState({postalCode:this._extractPostalCode(o),city:this._extractCity(o),country:this._extractCountry(o),address:this._extractAddress(o)});case 11:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),n._extractPostalCode=function(e){return this._extract(e,"postal_code")},n._extractCity=function(e){return this._extract(e,"locality")},n._extract=function(e,t,n){void 0===n&&(n=!0);var r=e.address_components;return console.log(r),Object(O.find)(r,function(e){return Object(O.includes)(e.types,t)})[n?"long_name":"short_name"]},n._extractCountry=function(e){return this._extract(e,"country",!1)},n._extractAddress=function(e){return this._extract(e,"street_number")+" "+this._extract(e,"route")},n._dataElements=function(){return[]},n._renderHeightInput=function(){return h.a.createElement(N,{onUnitChange:this._handleHeightUnitChange,onValueChange:this._handleHeightValueChange,unit:this.state.heightUnit,unitOptions:P,value:this.state.heightValue})},n._renderEyeColorInput=function(){return h.a.createElement(I,{onChange:this._handleEyeColorChange,selected:this.state.eyeColor,options:J})},n._renderDebug=function(){return h.a.createElement("pre",null,JSON.stringify(this.state))},n._renderFirstNameInput=function(){return h.a.createElement(v,{testid:"first-name-input",onChange:this._handleFirstNameChange,value:this.state.firstName})},n._renderMiddleNameInput=function(){return h.a.createElement(y,{testid:"middle-name-input",onChange:this._handleMiddleNameChange,value:this.state.middleName})},n._renderLastNameInput=function(){return h.a.createElement(D,{testid:"last-name-input",onChange:this._handleLastNameChange,value:this.state.lastName})},n._renderDocumentDiscriminatorInput=function(){var e=this;return h.a.createElement(w,{label:"Document Discriminator",onChange:this._handleDocumentDiscriminatorChange,onGenerate:function(t){return e.setState({documentDiscriminator:t})},value:this.state.documentDiscriminator})},n._renderJurisdictionSpecificVehicleClassInput=function(){return h.a.createElement(C,{value:this.state.jurisdicationSpecificVehicleClass,label:"Jurisdiction Specific Vehicle Class",onChange:this._handleJurisdictionVehicleClassChange})},n._renderJurisdictionSpecificRestrictionCodesInput=function(){return null},n._renderJurisdictionSpecificEndorsementCodesInput=function(){return null},n._renderDocumentExpirationDateInput=function(){return h.a.createElement(S,{label:"Document Expiration Date",onChange:this._handleDocumentExpirationDateChange})},n._renderDateOfBirthInput=function(){return h.a.createElement(S,{label:"Date of Birth",onChange:this._handleDateOfBirthChange})},n._renderPhysicalDescriptionSexInput=function(){return null},n._renderAddressStreet1Input=function(){return h.a.createElement("div",{className:"col"},h.a.createElement(C,{label:"Address",value:this.state.address,onChange:this._handleAddressStreet1Change}))},n._renderAddressCityInput=function(){return h.a.createElement(C,{label:"City",onChange:this._handleAddressCityChange,value:this.state.city})},n._renderAddressJurisdictionCodeInput=function(){return h.a.createElement(C,{label:"Country",onChange:this._handleAddressJurisdictionCodeChange,value:this.state.country})},n._renderDemographicInputs=function(){return h.a.createElement(h.a.Fragment,null,h.a.createElement("h2",null,"Demographics"),h.a.createElement("div",{className:"row"},h.a.createElement("div",{className:"col"},this._renderHeightInput()),h.a.createElement("div",{className:"col"},this._renderEyeColorInput())))},n._renderAddressPostalCodeInput=function(){return h.a.createElement("div",{className:"col"},h.a.createElement(C,{label:"Postal Code",value:this.state.postalCode}))},n._renderCountryIdentificationInput=function(){return null},n._renderAddressInputs=function(){return h.a.createElement("div",{className:"row"},h.a.createElement("a",{onClick:this._handleReverseGeolocateClick},"Use Current Location"),this._renderAddressStreet1Input(),this._renderAddressCityInput(),h.a.createElement("div",{className:"col"},this._renderAddressPostalCodeInput()),h.a.createElement("div",{className:"col"},this._renderAddressJurisdictionCodeInput()))},n._renderCustomerIDNumberInput=function(){return null},n._renderDocumentIssueDateInput=function(){return null},n._renderNameInputs=function(){return h.a.createElement("div",{className:"row"},h.a.createElement("div",{className:"col"},this._renderFirstNameInput()),h.a.createElement("div",{className:"col"},this._renderMiddleNameInput()),h.a.createElement("div",{className:"col"},this._renderLastNameInput()))},n._renderSubmitInput=function(){return h.a.createElement("input",{disabled:!this._isFormValid(),type:"submit",value:"Generate Barcode",className:"btn btn-primary"})},n._isFormValid=function(){return!!this.state.firstName},n._renderBarcode=function(){return this.state.isBarcodeVisible?h.a.createElement("div",null,h.a.createElement(B.a,{data:this._data})):null},n.render=function(){return h.a.createElement(p.a,null,this._renderDebug(),h.a.createElement("form",{onSubmit:this._handleSubmit},this._renderNameInputs(),this._renderJurisdictionSpecificVehicleClassInput(),this._renderJurisdictionSpecificRestrictionCodesInput(),this._renderDocumentExpirationDateInput(),this._renderPhysicalDescriptionSexInput(),this._renderCountryIdentificationInput(),this._renderCustomerIDNumberInput(),this._renderAddressInputs(),this._renderDemographicInputs(),this._renderDateOfBirthInput(),this._renderDocumentDiscriminatorInput(),this._renderSubmitInput(),this._renderBarcode()))},l()(t,[{key:"_data",get:function(){return this.state.firstName?this.state.firstName:""}}]),t}(d.Component)}}]);
//# sourceMappingURL=component---src-pages-index-js-bf24006667d2541f36b0.js.map